(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4343],{454:function(e,t,n){Promise.resolve().then(n.bind(n,9872))},9872:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437),a=n(2265),i=n(9343),o=n(1014),l=n(9772),s=n(2649),c=n(1243),u=n(9778),d=n(559),f=n(7138);let m=l.z.object({email:l.z.string().email({message:"Must be a valid email"}),password:l.z.string()});function p(){var e,t;let[n,l]=(0,a.useState)(!1),[p,h]=(0,a.useState)(""),{register:x,handleSubmit:v,reset:g,formState:{errors:y}}=(0,i.cI)({resolver:(0,o.F)(m)}),Z=async e=>{if(s.Z.get("auth_token"))window.location.href="".concat("https://www.cargram.asalamero.dawmor.cloud","/pages/site/settings");else try{l(!0);let t=await fetch("".concat("https://backtfg-production-2112.up.railway.app","/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),n=await t.json();t.ok?(s.Z.set("auth_token",n.auth_token,{expires:7,path:""}),window.location.href="".concat("https://www.cargram.asalamero.dawmor.cloud","/pages/site/settings")):h("Error: "+(n.message||"Failed to login.")),l(!1),g()}catch(e){h("An error occurred while processing your request."),l(!1)}};return(0,a.useEffect)(()=>{if(p){let e=setTimeout(()=>{h("")},7e3);return()=>{clearTimeout(e)}}},[p]),(0,r.jsx)("form",{onSubmit:v(Z),className:"flex h-screen items-center justify-center bg-gray-100 dark:bg-gray-950",children:(0,r.jsxs)("div",{className:"mx-auto w-full max-w-md space-y-6 rounded-lg bg-white p-6 shadow-lg dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"space-y-2 text-center",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold",children:["Bienvenido a ",(0,r.jsx)(f.default,{href:"/",children:"CarGram"})]}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Inicia sesi\xf3n para continuar"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Correo electronico"}),(0,r.jsxs)("div",{className:"flex items-center border rounded px-3 py-2",children:[(0,r.jsx)(c.Z,{className:"mr-2 text-gray-400"}),(0,r.jsx)("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"email",type:"email",placeholder:"Tu correo electronico",...x("email")})]}),y.email&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(e=y.email)||void 0===e?void 0:e.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Contrase\xf1a"}),(0,r.jsxs)("div",{className:"flex items-center border rounded px-3 py-2",children:[(0,r.jsx)(u.Z,{className:"mr-2 text-gray-400"}),(0,r.jsx)("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"password",type:"password",placeholder:"Contrase\xf1a segura",...x("password")})]}),y.password&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(t=y.password)||void 0===t?void 0:t.message})]}),p&&(0,r.jsx)("div",{className:"text-red-500 text-xs mt-1",children:p}),(0,r.jsx)("button",{className:"w-full bg-black text-white hover:bg-gray-900 py-2 px-4 rounded",disabled:n,type:"submit",children:n?"Signing In...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"mr-2"}),"Iniciar Sesi\xf3n"]})}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)(f.default,{href:"#",className:"text-sm font-medium text-gray-500 underline hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",prefetch:!1,children:"Contrase\xf1a olvidada?"})})]}),(0,r.jsxs)("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["A\xfan sin cuenta?"," ",(0,r.jsx)(f.default,{href:"/pages/register",className:"font-medium text-gray-900 underline hover:text-gray-700 dark:text-gray-50 dark:hover:text-gray-300",prefetch:!0,children:"Registrarse"})]})]})})}var h=function(){return(0,r.jsx)("div",{className:"bg-grey-lighter min-h-screen flex flex-col",children:(0,r.jsx)(p,{})})}},1243:function(e,t,n){"use strict";var r=n(3963);t.Z=void 0;var a=r(n(9118)),i=n(7437);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},9778:function(e,t,n){"use strict";var r=n(3963);t.Z=void 0;var a=r(n(9118)),i=n(7437);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock")},559:function(e,t,n){"use strict";var r=n(3963);t.Z=void 0;var a=r(n(9118)),i=n(7437);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},9118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4381)},9018:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(2988),a=n(2265),i=n(3950),o=n(4839),l=n(6259),s=n(2272),c=n(8510),u=n(8024),d=n(4535),f=n(7542);function m(e){return(0,f.ZP)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(7437);let h=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],x=e=>{let{color:t,fontSize:n,classes:r}=e,a={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,l.Z)(a,m,r)},v=(0,u.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})(e=>{var t,n,r,a,i,o,l,s,c,u,d,f,m;let{theme:p,ownerState:h}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:h.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=p.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:({inherit:"inherit",small:(null==(a=p.typography)||null==(i=a.pxToRem)?void 0:i.call(a,20))||"1.25rem",medium:(null==(o=p.typography)||null==(l=o.pxToRem)?void 0:l.call(o,24))||"1.5rem",large:(null==(s=p.typography)||null==(c=s.pxToRem)?void 0:c.call(s,35))||"2.1875rem"})[h.fontSize],color:null!=(u=null==(d=(p.vars||p).palette)||null==(d=d[h.color])?void 0:d.main)?u:({action:null==(f=(p.vars||p).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(p.vars||p).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0})[h.color]}}),g=a.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),{children:l,className:s,color:u="inherit",component:d="svg",fontSize:f="medium",htmlColor:m,inheritViewBox:g=!1,titleAccess:y,viewBox:Z="0 0 24 24"}=n,b=(0,i.Z)(n,h),w=a.isValidElement(l)&&"svg"===l.type,j=(0,r.Z)({},n,{color:u,component:d,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:Z,hasSvgAsChild:w}),N={};g||(N.viewBox=Z);let S=x(j);return(0,p.jsxs)(v,(0,r.Z)({as:d,className:(0,o.Z)(S.root,s),focusable:"false",color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},N,b,w&&l.props,{ownerState:j,children:[w?l.props.children:l,y?(0,p.jsx)("title",{children:y}):null]}))});function y(e,t){function n(n,a){return(0,p.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:a},n,{children:e}))}return n.muiName=g.muiName,a.memo(a.forwardRef(n))}g.muiName="SvgIcon"},576:function(e,t,n){"use strict";var r=n(1227);t.Z=r.Z},4381:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return a.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return o.Z},debounce:function(){return l.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return c.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return m},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return h},unsupportedProp:function(){return x},useControlled:function(){return v.Z},useEventCallback:function(){return g.Z},useForkRef:function(){return y.Z},useIsFocusVisible:function(){return Z.Z}});var r=n(5960),a=n(2272),i=n(4559).Z,o=n(9018),l=n(576),s=function(e,t){return()=>null},c=n(9633),u=n(9645),d=n(8095);n(2988);var f=function(e,t){return()=>null},m=n(9969).Z,p=n(8632),h=n(674).Z,x=function(e,t,n,r,a){return null},v=n(7088),g=n(6182),y=n(909),Z=n(9261);let b={configure:e=>{r.Z.configure(e)}}},9633:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2265),a=function(e,t){var n,a;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(a=e.type)||null==(a=a._payload)||null==(a=a.value)?void 0:a.muiName)}},9645:function(e,t,n){"use strict";var r=n(5694);t.Z=r.Z},8095:function(e,t,n){"use strict";var r=n(3076);t.Z=r.Z},7088:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2265),a=function(e){let{controlled:t,default:n,name:a,state:i="value"}=e,{current:o}=r.useRef(void 0!==t),[l,s]=r.useState(n),c=r.useCallback(e=>{o||s(e)},[]);return[o?t:l,c]}},8632:function(e,t,n){"use strict";var r=n(8017);t.Z=r.Z},1227:function(e,t,n){"use strict";function r(e,t=166){let n;function r(...a){clearTimeout(n),n=setTimeout(()=>{e.apply(this,a)},t)}return r.clear=()=>{clearTimeout(n)},r}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[231,5856,4085,2971,7023,1744],function(){return e(e.s=454)}),_N_E=e.O()}]);