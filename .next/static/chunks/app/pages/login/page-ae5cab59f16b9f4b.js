(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4343],{5500:function(e,t,a){Promise.resolve().then(a.bind(a,29872))},29872:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(57437),r=a(2265),n=a(39343),l=a(31014),i=a(59772),c=a(44785),o=a(71243),d=a(19778),x=a(30559),m=a(87138);let h=i.z.object({email:i.z.string().email({message:"Must be a valid email"}),password:i.z.string()});function u(){var e,t;let[a,i]=(0,r.useState)(!1),[u,g]=(0,r.useState)(""),{register:p,handleSubmit:f,reset:y,formState:{errors:j}}=(0,n.cI)({resolver:(0,l.F)(h)}),b=async()=>{if(!(await fetch("".concat("http://localhost:8000","/sanctum/csrf-cookie"),{credentials:"include"})).ok)throw Error("Failed to fetch CSRF token")},v=async e=>{if(await b(),c.Z.get("auth_token"))window.location.href="".concat("http://localhost:3000","/pages/site/dashboard");else try{i(!0);let t=await fetch("".concat("http://localhost:8000","/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),a=await t.json();t.ok?(c.Z.set("auth_token",a.auth_token,{expires:7,path:""}),window.location.href="".concat("http://localhost:3000","/pages/site/settings")):g("Error: "+(a.message||"Failed to login.")),i(!1),y()}catch(e){g("An error occurred while processing your request."),i(!1)}};return(0,r.useEffect)(()=>{if(u){let e=setTimeout(()=>{g("")},7e3);return()=>{clearTimeout(e)}}},[u]),(0,s.jsx)("form",{onSubmit:f(v),className:"flex h-screen items-center justify-center bg-gray-100 dark:bg-gray-950",children:(0,s.jsxs)("div",{className:"mx-auto w-full max-w-md space-y-6 rounded-lg bg-white p-6 shadow-lg dark:bg-gray-800",children:[(0,s.jsxs)("div",{className:"space-y-2 text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Bienvenido a Cargram"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Inicie sesi\xf3n para continuar"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Correo electronico"}),(0,s.jsxs)("div",{className:"flex items-center border rounded px-3 py-2",children:[(0,s.jsx)(o.Z,{className:"mr-2 text-gray-400"}),(0,s.jsx)("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"email",type:"email",placeholder:"Tu correo electronico",...p("email")})]}),j.email&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(e=j.email)||void 0===e?void 0:e.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Contrase\xf1a"}),(0,s.jsxs)("div",{className:"flex items-center border rounded px-3 py-2",children:[(0,s.jsx)(d.Z,{className:"mr-2 text-gray-400"}),(0,s.jsx)("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"password",type:"password",placeholder:"Contrase\xf1a segura",...p("password")})]}),j.password&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(t=j.password)||void 0===t?void 0:t.message})]}),u&&(0,s.jsx)("div",{className:"text-red-500 text-xs mt-1",children:u}),(0,s.jsx)("button",{className:"w-full bg-black text-white hover:bg-gray-900 py-2 px-4 rounded",disabled:a,type:"submit",children:a?"Signing In...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{className:"mr-2"}),"Iniciar Sesi\xf3n"]})}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(m.default,{href:"#",className:"text-sm font-medium text-gray-500 underline hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",prefetch:!1,children:"Contrase\xf1a olvidada?"})})]}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["A\xfan sin cuenta?"," ",(0,s.jsx)(m.default,{href:"/pages/register",className:"font-medium text-gray-900 underline hover:text-gray-700 dark:text-gray-50 dark:hover:text-gray-300",prefetch:!1,children:"Registrarse"})]})]})})}var g=function(){return(0,s.jsx)("div",{className:"bg-grey-lighter min-h-screen flex flex-col",children:(0,s.jsx)(u,{})})}},30559:function(e,t,a){"use strict";var s=a(23963);t.Z=void 0;var r=s(a(19118)),n=a(57437);t.Z=(0,r.default)((0,n.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")}},function(e){e.O(0,[8848,7138,9301,2971,7023,1744],function(){return e(e.s=5500)}),_N_E=e.O()}]);