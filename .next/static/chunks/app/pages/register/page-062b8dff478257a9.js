(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6430],{52666:function(e,t,s){Promise.resolve().then(s.bind(s,27888))},27888:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(57437),a=s(39343),n=s(31014),o=s(59772),i=s(2265),c=s(87138),l=s(44785);let d=o.z.object({name:o.z.string().min(5,{message:"Nombre es obligatorio"}),email:o.z.string().email({message:"Debe ser un email v\xe1lido"}),password:o.z.string().min(8,{message:"La contrase\xf1a debe tener al menos 6 caracteres"}).regex(/^(?=.*[0-9])(?=.*[!@#$%^&*_\-\/<>])[a-zA-Z0-9!@#$%^&*_\-\/<>]{6,}$/,{message:"La contrase\xf1a debe contener al menos un n\xfamero y un car\xe1cter especial"}),cPassword:o.z.string(),ip:o.z.string()}).refine(e=>e.password===e.cPassword,{message:"Las contrase\xf1as no coinciden",path:["cPassword"]});var m=()=>{var e,t,s,o;let[m,u]=(0,i.useState)(!1),[p,x]=(0,i.useState)(!1),[f,h]=(0,i.useState)(!1),g=p&&!f?"Tu registro fue exitoso.":"Ocurri\xf3 un error al procesar tu solicitud.",{register:b,handleSubmit:w,reset:y,setValue:j,formState:{errors:v}}=(0,a.cI)({resolver:(0,n.F)(d)});(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("https://api64.ipify.org?format=json"),t=await e.json();j("ip",t.ip)}catch(e){console.error("Error al obtener la IP:",e)}})()},[j]);let N=async e=>{try{h(!1),x(!1),u(!0);let t=await fetch("".concat("https://backtfg-production-2112.up.railway.app","/api/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();s.token?(l.Z.set("auth_token",s.token,{expires:7}),window.location.href="".concat("https://www.cargram.asalamero.dawmor.cloud","/pages/site/settings")):(h(!0),x(!0)),u(!1),y()}catch(e){h(!0),x(!0),u(!1)}};return(0,i.useEffect)(()=>{if(x){let e=setTimeout(()=>{x(!1),h(!1)},5e3);return()=>{clearTimeout(e)}}},[p]),(0,r.jsx)("div",{className:"font-sans antialiased h-screen flex justify-center items-center",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg overflow-hidden",children:[p&&(0,r.jsxs)("div",{className:"flex justify-between py-4 px-8 ".concat(f?"bg-[#fad2e1] text-[#7c193d]":"bg-[#98f5e1] text-[#236c5b]"),children:[(0,r.jsx)("p",{className:"font-sans",children:g}),(0,r.jsx)("button",{className:"font-bold",onClick:()=>x(!1),children:"âœ•"})]}),(0,r.jsxs)("div",{className:"mx-auto max-w-md space-y-6 p-8",children:[(0,r.jsxs)("div",{className:"space-y-2 text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:(0,r.jsx)(c.default,{href:"/",children:"CarGram"})}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Reg\xedstrate para unirte a la comunidad de Cargram."})]}),(0,r.jsxs)("form",{onSubmit:w(N),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre de usuario"}),(0,r.jsx)("div",{className:"flex items-center border rounded px-3 py-2",children:(0,r.jsx)("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"name",placeholder:"Ingresa tu nombre de usuario",required:!0,...b("name")})}),v.name&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(e=v.name)||void 0===e?void 0:e.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"Correo electr\xf3nico"}),(0,r.jsx)("div",{className:"flex items-center border rounded px-3 py-2",children:(0,r.jsx)("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"email",placeholder:"Ingresa tu correo electr\xf3nico",required:!0,type:"email",...b("email")})}),v.email&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(t=v.email)||void 0===t?void 0:t.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2",children:"Contrase\xf1a"}),(0,r.jsx)("div",{className:"flex items-center border rounded px-3 py-2",children:(0,r.jsx)("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"password",placeholder:"Ingresa tu contrase\xf1a",required:!0,type:"password",...b("password")})}),v.password&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(s=v.password)||void 0===s?void 0:s.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"confirm-password",className:"block text-gray-700 text-sm font-bold mb-2",children:"Confirmar contrase\xf1a"}),(0,r.jsx)("div",{className:"flex items-center border rounded px-3 py-2",children:(0,r.jsx)("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"confirm-password",placeholder:"Confirma tu contrase\xf1a",required:!0,type:"password",...b("cPassword")})}),v.cPassword&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(o=v.cPassword)||void 0===o?void 0:o.message})]}),(0,r.jsx)("button",{className:"w-full bg-black text-white p-2 rounded-lg",type:"submit",children:m?"Registrando...":"Registrarse"}),(0,r.jsxs)("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["\xbfYa tienes una cuenta?",(0,r.jsx)(c.default,{className:"font-medium underline underline-offset-4",href:"/pages/login",children:"Inicia sesi\xf3n"})]})]})]})]})})},u=()=>(0,r.jsx)("div",{className:"bg-grey-lighter min-h-screen flex flex-col",children:(0,r.jsx)(m,{})})},44785:function(e,t,s){"use strict";/*! js-cookie v3.0.5 | MIT */function r(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}s.d(t,{Z:function(){return a}});var a=function e(t,s){function a(e,a,n){if("undefined"!=typeof document){"number"==typeof(n=r({},s,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in n)n[i]&&(o+="; "+i,!0!==n[i]&&(o+="="+n[i].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+o}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],r={},a=0;a<s.length;a++){var n=s[a].split("="),o=n.slice(1).join("=");try{var i=decodeURIComponent(n[0]);if(r[i]=t.read(o,i),e===i)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){a(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[231,4085,2971,7023,1744],function(){return e(e.s=52666)}),_N_E=e.O()}]);