"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2785],{12785:function(e,s,t){t.r(s);var r=t(57437),i=t(2265),l=t(91326),n=t(40468),a=t(80511),c=t(24587),o=t(70270),d=t(94696),h=t(19875),u=t(76548),m=t(32184),x=t(78498),f=t(50124),j=t(60335),p=t(44785),Z=t(65693);s.default=()=>{var e,s,t,v;let[g,w]=(0,i.useState)(null),[N,y]=(0,i.useState)([]),[E,b]=(0,i.useState)(!0),[k,_]=(0,i.useState)(null);if((0,i.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat("http://localhost:8000","/api/user/posts"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.Z.get("auth_token"))},credentials:"include"});if(!e.ok)throw Error("Failed to fetch posts");let s=await e.json();y(s)}catch(e){console.error("Error fetching posts:",e)}};(async()=>{try{let e=await fetch("".concat("http://localhost:8000","/api/ajustes"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.Z.get("auth_token"))},credentials:"include"});if(!e.ok)throw Error("Failed to fetch user");let s=await e.json();w(s),b(!1)}catch(e){e instanceof Error?_(e.message):_("An unknown error occurred"),b(!1)}})(),e()},[]),E)return(0,r.jsx)(l.Z,{className:"flex justify-center items-center min-h-screen",children:(0,r.jsx)(n.Z,{})});if(k)return(0,r.jsx)(l.Z,{className:"flex justify-center items-center min-h-screen",children:(0,r.jsxs)(a.Z,{color:"error",children:["Error: ",k]})});let S=(null==g?void 0:g.profile_photo)?g.profile_photo:"https://i.imgur.com/1i2fcbF.png";return(0,r.jsxs)(c.Z,{className:"mt-10",children:[(0,r.jsx)(o.Z,{className:"p-4 shadow-md mb-4",children:(0,r.jsxs)(d.Z,{className:"flex items-center justify-between",children:[(0,r.jsxs)(l.Z,{className:"flex items-center",children:[(0,r.jsx)(h.Z,{src:S,alt:"Profile",sx:{width:64,height:64}}),(0,r.jsxs)(l.Z,{className:"ml-4",children:[(0,r.jsx)(a.Z,{variant:"h5",children:null!==(e=null==g?void 0:g.name)&&void 0!==e?e:"Usuario Desconocido"}),(0,r.jsxs)(a.Z,{variant:"body1",color:"text.secondary",children:["Email: ",null!==(s=null==g?void 0:g.email)&&void 0!==s?s:"No disponible"]})]})]}),(0,r.jsxs)(l.Z,{className:"flex items-center flex-col",children:[(0,r.jsxs)(l.Z,{className:"flex items-center flex-row",children:[(0,r.jsxs)(u.Z,{className:"mr-4",children:["Seguidores: ",null!==(t=null==g?void 0:g.followers_count)&&void 0!==t?t:0]}),(0,r.jsxs)(u.Z,{className:"mr-4",children:["Siguiendo: ",null!==(v=null==g?void 0:g.following.length)&&void 0!==v?v:0]})]}),(0,r.jsx)(u.Z,{variant:"outlined",onClick:()=>alert("Manejar seguidores y seguidos"),children:"Manejar Seguidores"})]})]})}),(0,r.jsx)(a.Z,{variant:"h4",component:"div",className:"text-center mt-4",children:"Publicaciones subidas"}),(0,r.jsx)(m.Z,{children:N.map(e=>(0,r.jsxs)(x.ZP,{children:[(0,r.jsx)(f.Z,{primary:e.title,secondary:e.description}),(0,r.jsx)(j.Z,{edge:"end","aria-label":"edit",onClick:()=>{alert("Editar publicaci\xf3n ".concat(e.id))},children:(0,r.jsx)(Z.Z,{})})]},e.id))})]})}}}]);