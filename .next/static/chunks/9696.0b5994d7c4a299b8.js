"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9696],{29696:function(e,t,o){o.r(t);var r=o(57437),a=o(2265),n=o(38472),l=o(90859),i=o.n(l),s=o(44785);t.default=()=>{let[e,t]=(0,a.useState)(null),o=async t=>{if(t.preventDefault(),e)try{let t=await l(e,100,100),o=new FormData;o.append("profile_photo",t,"profile_photo.jpg");let r=await n.Z.post("".concat("http://localhost:8000","/api/profile-photo"),o,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s.Z.get("auth_token"))}});console.log(r.data)}catch(e){console.error("Error uploading profile photo",e)}},l=(e,t,o)=>new Promise((r,a)=>{let n=document.createElement("img"),l=new FileReader;l.onload=e=>{e.target&&e.target.result&&(n.src=e.target.result,n.onload=()=>{let e=document.createElement("canvas");e.width=t,e.height=o;let l=i()();l.resize(n,e).then(()=>l.toBlob(e,"image/jpeg",.9)).then(e=>{r(e)}).catch(e=>{a(e)})})},l.onerror=e=>{a(e)},l.readAsDataURL(e)});return(0,r.jsxs)("form",{onSubmit:o,className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"profile_photo",className:"block text-sm font-medium text-gray-700",children:"Profile Photo"}),(0,r.jsx)("input",{type:"file",id:"profile_photo",name:"profile_photo",onChange:e=>{e.target.files&&e.target.files[0]&&t(e.target.files[0])},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Update Profile"})]})}}}]);