(()=>{var e={};e.id=343,e.ids=[343],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},4622:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(6640),s(8563),s(1506),s(5866);var a=s(3191),r=s(8716),i=s(7922),n=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["pages",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6640)),"C:\\Users\\gabri\\Desktop\\Repos\\front_tfg\\app\\pages\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8563)),"C:\\Users\\gabri\\Desktop\\Repos\\front_tfg\\app\\pages\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\gabri\\Desktop\\Repos\\front_tfg\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\gabri\\Desktop\\Repos\\front_tfg\\app\\pages\\login\\page.tsx"],p="/pages/login/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/pages/login/page",pathname:"/pages/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9427:(e,t,s)=>{Promise.resolve().then(s.bind(s,3002))},4807:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5766:()=>{},4927:()=>{},3002:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(326),r=s(7577),i=s(4723),n=s(4064),l=s(7256),o=s(6562),d=s(4786),c=s(1726),p=s(45),m=s(434);let x=l.z.object({email:l.z.string().email({message:"Must be a valid email"}),password:l.z.string()});function g(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),{register:g,handleSubmit:u,reset:h,formState:{errors:f}}=(0,i.cI)({resolver:(0,n.F)(x)}),y=async e=>{if(o.Z.get("auth_token"))window.location.href="http://localhost:3000/pages/site/settings";else try{t(!0);let s=await fetch("http://localhost:8000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),a=await s.json();s.ok?(o.Z.set("auth_token",a.auth_token,{expires:7,path:""}),window.location.href="http://localhost:3000/pages/site/settings"):l("Error: "+(a.message||"Failed to login.")),t(!1),h()}catch(e){l("An error occurred while processing your request."),t(!1)}};return a.jsx("form",{onSubmit:u(y),className:"flex h-screen items-center justify-center bg-gray-100 dark:bg-gray-950",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-md space-y-6 rounded-lg bg-white p-6 shadow-lg dark:bg-gray-800",children:[(0,a.jsxs)("div",{className:"space-y-2 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Bienvenido a Cargram"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Inicia sesi\xf3n para continuar"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Correo electronico"}),(0,a.jsxs)("div",{className:"flex items-center border rounded px-3 py-2",children:[a.jsx(d.Z,{className:"mr-2 text-gray-400"}),a.jsx("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"email",type:"email",placeholder:"Tu correo electronico",...g("email")})]}),f.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.email?.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Contrase\xf1a"}),(0,a.jsxs)("div",{className:"flex items-center border rounded px-3 py-2",children:[a.jsx(c.Z,{className:"mr-2 text-gray-400"}),a.jsx("input",{className:"appearance-none border-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"password",type:"password",placeholder:"Contrase\xf1a segura",...g("password")})]}),f.password&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.password?.message})]}),s&&a.jsx("div",{className:"text-red-500 text-xs mt-1",children:s}),a.jsx("button",{className:"w-full bg-black text-white hover:bg-gray-900 py-2 px-4 rounded",disabled:e,type:"submit",children:e?"Signing In...":(0,a.jsxs)(a.Fragment,{children:[a.jsx(p.Z,{className:"mr-2"}),"Iniciar Sesi\xf3n"]})}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(m.default,{href:"#",className:"text-sm font-medium text-gray-500 underline hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",prefetch:!1,children:"Contrase\xf1a olvidada?"})})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["A\xfan sin cuenta?"," ",a.jsx(m.default,{href:"/pages/register",className:"font-medium text-gray-900 underline hover:text-gray-700 dark:text-gray-50 dark:hover:text-gray-300",prefetch:!0,children:"Registrarse"})]})]})})}let u=function(){return a.jsx("div",{className:"bg-grey-lighter min-h-screen flex flex-col",children:a.jsx(g,{})})}},4786:(e,t,s)=>{"use strict";var a=s(9618);t.Z=void 0;var r=a(s(1133)),i=s(326);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},1726:(e,t,s)=>{"use strict";var a=s(9618);t.Z=void 0;var r=a(s(1133)),i=s(326);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock")},45:(e,t,s)=>{"use strict";var a=s(9618);t.Z=void 0;var r=a(s(1133)),i=s(326);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var a=s(9510),r=s(7366),i=s.n(r);s(4025);let n={title:"CarGram",description:"Made by Angel Salamero"};function l({children:e}){return(0,a.jsxs)("html",{lang:"es",className:i().className,style:{height:"100%"},children:[a.jsx("head",{children:a.jsx("link",{href:"https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css",rel:"stylesheet"})}),a.jsx("body",{className:"text-black bg-gray-200 h-full m-0 md:bg-gray-200",children:a.jsx("div",{className:"flex h-full min-h-screen flex-col md:flex-row md:overflow-hidden bg-gray-200 dark:bg-gray-900 transition-colors duration-300",children:a.jsx("main",{className:"flex-grow md:overflow-y-auto",children:e})})})]})}},8563:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>r});var a=s(9510);let r={title:"CarGram",description:"Angel's final project",favicon:"./favicon.ico"};function i({children:e}){return a.jsx("div",{className:"",children:e})}},6640:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var a=s(8570);let r=(0,a.createProxy)(String.raw`C:\Users\gabri\Desktop\Repos\front_tfg\app\pages\login\page.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let l=(0,a.createProxy)(String.raw`C:\Users\gabri\Desktop\Repos\front_tfg\app\pages\login\page.tsx#default`)},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(6621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4025:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,82,838,687,686],()=>s(4622));module.exports=a})();